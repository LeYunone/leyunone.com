# 通讯长连接

在我们的生活中无时无刻都存在联系之间的连接与断开，手机WIFI的断开、连接、账号的上线与下线、聊天窗口的打开与关闭等等.....

在计算机程序设计中，关于`连接`的名词比比皆是；首先最先接触的是UDP、TCP，三次握手建立连接、四次握手建立连接，这种简单的通讯连接技术。

随着学的东西越来越多，接触到，我连接你、你连接我的业务与技术也愈加频繁：数据库连接、配置中心连接、微服务通讯、聊天室、网盘....，在享受着大佬们创建的连接轮子的同时，也不得不感叹其中的奥妙，因此本篇将`连接` 这一技术针对我的理解进行记录。

## 种类

连接摆在明面上都应该统称为 **通讯连接** ，不管是WIFI、物联网、程序之间....都是因为需要通讯而建立连接的因果。

所以从通讯的角度上来看，大致上分为三种：

- 直接通讯
- 间接通讯
- 业务通讯

**直接通讯**很明确，拿最简单的TCP举例子，TCP作为一个必须进行三次确认的长连接协议，保证通讯稳定的同时也是将A、B两分的通讯地址强依赖关系进行绑定。因此A向B方发送消息不存在中间商过路费的概念，因此这种通讯连接的方式就是直接通讯。

**间接通讯**，即信息交换的地点选取在了中间商地。同样拿最简单的UDP举例子，有了解过即时通讯软件的童孩有经验：在针对聊天信息的读与发的主流程，一般都是通过UDP协议，以发包的方式将消息寄存在中间服务器上，随后通知对方取包、解包。连接仅仅建立在A 中间商 、B 中间商 的两两方间，因此我称这种为间接通讯。

**业务通讯** ，一种假连接方式，多存在于程序于程序之间的通讯方式。比如微服务体系中服务于服务之间的通讯方式，一般都是通过注册自己
